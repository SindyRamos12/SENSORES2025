<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sensor de humedad</title>
    <link rel="stylesheet" href="estilos.css" />
  </head>

  <body>
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyBrjHqGtjoAESzhCbGEGsChsQRFD5g9-58",
        authDomain: "sensorhumedad2024.firebaseapp.com",
        projectId: "sensorhumedad2024",
        storageBucket: "sensorhumedad2024.appspot.com",
        messagingSenderId: "135132139842",
        appId: "1:135132139842:web:44ebfbfdeddedecef378db",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);

      import { get, getDatabase, child, ref, onValue } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";
      
      const db = getDatabase();

    // const estado = document.getElementById("valorReal");
     var valor = ref(db, "sensor1");
     console.log(valor);

     onValue(valor, (snapshot) => {
         valor = JSON.stringify(snapshot.val(), null, 3);
         if(valor == "1"){
            circuloId.style.backgroundColor = "green";
          }else{
           circuloId.style.backgroundColor = "red";
         }
     });
    
    
    </script>

    <div class="fondo centrar">
      <h6>Sensor 1</h6>
      <span class="fondo-dot" id="circuloId"></span>      
    </div>
  </body>
</html>
